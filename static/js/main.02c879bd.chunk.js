(this.webpackJsonplanding=this.webpackJsonplanding||[]).push([[0],{10:function(t,i,e){t.exports=e(19)},15:function(t,i,e){},18:function(t,i,e){},19:function(t,i,e){"use strict";e.r(i);var n=e(2),s=e.n(n),r=e(8),a=e.n(r),o=(e(15),e(0)),c=e(1),l=e(4),h=e(3),u=e(5),f=e(6),y=e(9),d=e.n(y),v=function t(){Object(o.a)(this,t),this.uuid=d()()},p=function(t){function i(t,e,n,s){var r;return Object(o.a)(this,i),(r=Object(l.a)(this,Object(h.a)(i).call(this))).x=t,r.y=e,r.vel=n,r.parity=s,r.acc={x:0,y:0},r}return Object(u.a)(i,t),Object(c.a)(i,[{key:"drawSelf",value:function(t){t.beginPath(),t.fillStyle="#ff8d8d",t.arc(this.x,this.y,2,0,2*Math.PI),t.fill()}},{key:"setPosition",value:function(t){this.x=t.x,this.y=t.y}},{key:"setAcceleration",value:function(t){this.vel={x:this.vel.x+t.x,y:this.vel.y+t.y}}},{key:"invertVelocity",value:function(t){this.vel={x:this.vel.x*("x"===t?-1:1),y:this.vel.y*("y"===t?-1:1)}}}]),i}(v),k=function(t){function i(t,e){var n;return Object(o.a)(this,i),(n=Object(l.a)(this,Object(h.a)(i).call(this))).from=t,n.to=e,n.opacity="ff",n}return Object(u.a)(i,t),Object(c.a)(i,[{key:"drawSelf",value:function(t){t.beginPath(),t.strokeStyle="#ffffff"+this.opacity,t.moveTo(this.from.x,this.from.y),t.lineTo(this.to.x,this.to.y),t.stroke()}},{key:"setOpacity",value:function(t){this.opacity=(100-t.toFixed(0)).toString(16)}}]),i}(v);function _(t,i){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);i&&(n=n.filter((function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable}))),e.push.apply(e,n)}return e}function x(t){for(var i=1;i<arguments.length;i++){var e=null!=arguments[i]?arguments[i]:{};i%2?_(e,!0).forEach((function(i){Object(f.a)(t,i,e[i])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):_(e).forEach((function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(e,i))}))}return t}var m=["x","y"],b=function(){function t(i,e){Object(o.a)(this,t),this.ctx=i,this.particles_num=e,this.paused=!0,this.timers={links_search:0},this.field_size={x:i.canvas.width,y:i.canvas.height},this.particles_pool=[],this.links_pool=[],this.square_size={x:0,y:0},this.links_registry={},this.current_frame=null,this.tick=this.processTick.bind(this)}return Object(c.a)(t,[{key:"start",value:function(){this.ctx.translate(.5,.5),this.initParticles(),this.paused=!1,requestAnimationFrame(this.tick)}},{key:"processTick",value:function(){this.drawTick(),this.paused||(this.current_frame=requestAnimationFrame(this.tick))}},{key:"drawTick",value:function(){this.drawField(),this.shiftParticles(),this.drawLinks(),this.handleAcceleration()}},{key:"initParticles",value:function(){var t=Math.floor(this.field_size.x/100),i=Math.floor(this.field_size.y/100);this.square_size.x=this.field_size.x/t,this.square_size.y=this.field_size.y/i;for(var e=0;e<t;e++){for(var n=[],s=0;s<i;s++)n.push([]);this.particles_pool.push(n)}for(var r=0;r<this.particles_num;r++){var a=Math.round(Math.random()*this.field_size.x),o=Math.round(Math.random()*this.field_size.y),c={x:+(.2*(Math.random()-.5)).toFixed(2),y:+(.2*(Math.random()-.5)).toFixed(2)},l=new p(a,o,c,r%5),h=(Math.ceil(a/this.square_size.x)||1)-1,u=(Math.ceil(o/this.square_size.y)||1)-1;this.particles_pool[h][u].push(l)}}},{key:"drawField",value:function(){this.ctx.fillStyle="#282c34",this.ctx.fillRect(0,0,this.field_size.x,this.field_size.y)}},{key:"shiftParticles",value:function(){var t=this;this.particles_pool.forEach((function(i,e){i.forEach((function(i,e){i.forEach((function(i){var e={};m.forEach((function(n){var s=i[n]+i.vel[n],r=t.field_size[n]-2;s>r&&i.vel[n]>0?(s=2*r-i.vel[n]-i[n]-2,i.invertVelocity(n)):s<2&&i.vel[n]<0&&(s=Math.abs(i.vel[n])-i[n]+2,i.invertVelocity(n)),e[n]=s})),i.setPosition(e),i.drawSelf(t.ctx)}))}))})),this.particles_pool.forEach((function(i,e){i.forEach((function(i,n){i.forEach((function(i){var s={x:e,y:n},r=t.getPoolShift(s,i);(r.x||r.y)&&t.migrateParticle(i,s,r)}))}))}))}},{key:"getPoolShift",value:function(t,i){var e=this,n={x:0,y:0};return m.forEach((function(s){i[s]/e.square_size[s]>t[s]+1?n[s]++:i[s]/e.square_size[s]<t[s]&&n[s]--})),n}},{key:"migrateParticle",value:function(t,i,e){var n=this.particles_pool[i.x][i.y],s=this.particles_pool[i.x+e.x][i.y+e.y],r=n.indexOf(t);n.splice(r,1),s.push(t)}},{key:"drawLinks",value:function(){var t=this;this.createLinks(),this.links_pool.forEach((function(i){var e=t.getDistance(i.from,i.to);e>100&&t.removeLink(i),i.setOpacity(e),i.drawSelf(t.ctx)}))}},{key:"createLinks",value:function(){var t=this,i={},e=function(i,e){var n,s;if(t.getDistance(i,e)<=100&&(n=i.uuid,s=e.uuid,!t.links_registry[n]||!t.links_registry[n][s])){var r=new k(i,e);t.addLinkRegistryEntry(i.uuid,e.uuid,r.uuid),t.links_pool.push(r)}},n=function(t,i){for(var n=0;n<t.length;n++)for(var s=0;s<i.length;s++)e(t[n],i[s])};this.particles_pool.forEach((function(s,r){t.particles_pool[r].forEach((function(s,a){!function(t){for(var i=0;i<t.length-1;i++)for(var n=i+1;n<t.length;n++)e(t[i],t[n])}(s),function(e,s,r){for(var a=s-1;a<=s+1;a++)for(var o=r-1;o<=r+1;o++){var c=t.particles_pool[a]&&t.particles_pool[a][o];c&&i[a]&&i[a][o]&&(a!==s||o!==r)&&n(e,c)}}(s,r,a),i[r]=i[r]?i[r]:{},i[r][a]=!0}))}))}},{key:"addLinkRegistryEntry",value:function(t,i,e){this.links_registry[t]=this.links_registry[t]?x({},this.links_registry[t],Object(f.a)({},i,e)):Object(f.a)({},i,e),this.links_registry[i]=this.links_registry[i]?x({},this.links_registry[i],Object(f.a)({},t,e)):Object(f.a)({},t,e)}},{key:"removeLink",value:function(t){delete this.links_registry[t.from.uuid][t.to.uuid],delete this.links_registry[t.to.uuid][t.from.uuid];var i=this.links_pool.findIndex((function(i){return i.uuid===t.uuid}));this.links_pool.splice(i,1)}},{key:"getDistance",value:function(t,i){return Math.sqrt(Math.pow(t.x-i.x,2)+Math.pow(t.y-i.y,2))}},{key:"handleAcceleration",value:function(){var t=this,i=[{x:this.field_size.x/4,y:this.field_size.y/4},{x:this.field_size.x/4,y:3*this.field_size.y/2},{x:3*this.field_size.x/2,y:this.field_size.y/4},{x:3*this.field_size.x/2,y:3*this.field_size.y/4},{x:this.field_size.x/2,y:this.field_size.y/2}];this.particles_pool.forEach((function(e){e.forEach((function(e){e.forEach((function(e){var n=t.getDistance(e,i[e.parity]),s={x:-.001*(e.x-i[e.parity].x)/n,y:-.001*(e.y-i[e.parity].y)/n};e.setAcceleration(s)}))}))}))}}]),t}(),g=function(t){function i(t){var e;return Object(o.a)(this,i),(e=Object(l.a)(this,Object(h.a)(i).call(this,t))).state={ctx:null,motion_process:null},e}return Object(u.a)(i,t),Object(c.a)(i,[{key:"componentDidMount",value:function(){var t=this,i=document.getElementById("canvas").getContext("2d");i.canvas.width=window.innerWidth,i.canvas.height=window.innerHeight;var e=new b(i,200);this.setState({ctx:i,motion_process:e},(function(){t.state.motion_process.start()}))}},{key:"render",value:function(){return s.a.createElement("canvas",{id:"canvas"})}}]),i}(s.a.Component),O=(e(18),function(t){function i(){return Object(o.a)(this,i),Object(l.a)(this,Object(h.a)(i).apply(this,arguments))}return Object(u.a)(i,t),Object(c.a)(i,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){return s.a.createElement("div",{className:"App"},s.a.createElement(g,null))}}]),i}(s.a.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a.a.render(s.a.createElement(O,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()}))}},[[10,1,2]]]);
//# sourceMappingURL=main.02c879bd.chunk.js.map